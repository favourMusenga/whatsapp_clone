[{"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\store.ts":"1","E:\\mywork\\ionic\\whatsapp_clone\\src\\App.tsx":"2","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\preferenceActions.ts":"3","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ChatRoom.tsx":"4","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Settiing.tsx":"5","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ProfileDetails.tsx":"6","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Home.tsx":"7","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\preferenceReducer.ts":"8","E:\\mywork\\ionic\\whatsapp_clone\\src\\utli.ts":"9","E:\\mywork\\ionic\\whatsapp_clone\\src\\firebaseHelperFunctions.tsx":"10","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ProfileDetailsStyles.tsx":"11","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Status.tsx":"12","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\IntroMessage.tsx":"13","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ChatsStyles.tsx":"14","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\HomeSegments.tsx":"15","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\PrivateRoute.tsx":"16","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ContactsList.tsx":"17","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Contacts.tsx":"18","E:\\mywork\\ionic\\whatsapp_clone\\src\\serviceWorker.ts":"19","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\OnBoard.tsx":"20","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\UpLoadImage.tsx":"21","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Calls.tsx":"22","E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useFirebaseStorage.tsx":"23","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ChatRoomStyles.tsx":"24","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\InputArea.tsx":"25","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\ChatBubble.tsx":"26","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\rootReducer.ts":"27","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\constants.ts":"28","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\IntroSlider.tsx":"29","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\ChatsList.tsx":"30","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Chat.tsx":"31","E:\\mywork\\ionic\\whatsapp_clone\\src\\index.tsx":"32","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\SignUpstyles.tsx":"33","E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useGetGroups.tsx":"34","E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useCamera.tsx":"35","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\userActions.ts":"36","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Login.tsx":"37","E:\\mywork\\ionic\\whatsapp_clone\\src\\firbaseConfig.ts":"38","E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useGetPic.tsx":"39","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\SettingStyles.tsx":"40","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\SignUp.tsx":"41","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\userReducer.ts":"42"},{"size":318,"mtime":1605790871825,"results":"43","hashOfConfig":"44"},{"size":3348,"mtime":1607551815607,"results":"45","hashOfConfig":"44"},{"size":1161,"mtime":1605802836899,"results":"46","hashOfConfig":"44"},{"size":3341,"mtime":1607357122498,"results":"47","hashOfConfig":"44"},{"size":8756,"mtime":1607551812682,"results":"48","hashOfConfig":"44"},{"size":5849,"mtime":1605974849521,"results":"49","hashOfConfig":"44"},{"size":741,"mtime":1605975674827,"results":"50","hashOfConfig":"44"},{"size":459,"mtime":1605802834209,"results":"51","hashOfConfig":"44"},{"size":750,"mtime":1607423240175,"results":"52","hashOfConfig":"44"},{"size":621,"mtime":1606424735311,"results":"53","hashOfConfig":"44"},{"size":619,"mtime":1605553175912,"results":"54","hashOfConfig":"44"},{"size":366,"mtime":1606477185382,"results":"55","hashOfConfig":"44"},{"size":608,"mtime":1605377927132,"results":"56","hashOfConfig":"44"},{"size":1090,"mtime":1606429951302,"results":"57","hashOfConfig":"44"},{"size":3857,"mtime":1606171990273,"results":"58","hashOfConfig":"44"},{"size":652,"mtime":1607637122049,"results":"59","hashOfConfig":"44"},{"size":2602,"mtime":1606425628838,"results":"60","hashOfConfig":"44"},{"size":628,"mtime":1606177959423,"results":"61","hashOfConfig":"44"},{"size":5213,"mtime":1597939270000,"results":"62","hashOfConfig":"44"},{"size":357,"mtime":1605441887639,"results":"63","hashOfConfig":"44"},{"size":1232,"mtime":1606601141416,"results":"64","hashOfConfig":"44"},{"size":364,"mtime":1606477198134,"results":"65","hashOfConfig":"44"},{"size":1105,"mtime":1606601173670,"results":"66","hashOfConfig":"44"},{"size":1116,"mtime":1606860243204,"results":"67","hashOfConfig":"44"},{"size":4182,"mtime":1606860999659,"results":"68","hashOfConfig":"44"},{"size":800,"mtime":1606861718438,"results":"69","hashOfConfig":"44"},{"size":336,"mtime":1605794722770,"results":"70","hashOfConfig":"44"},{"size":145,"mtime":1605802902420,"results":"71","hashOfConfig":"44"},{"size":1814,"mtime":1607635032697,"results":"72","hashOfConfig":"44"},{"size":1845,"mtime":1607637772487,"results":"73","hashOfConfig":"44"},{"size":1643,"mtime":1606429822932,"results":"74","hashOfConfig":"44"},{"size":652,"mtime":1605790966777,"results":"75","hashOfConfig":"44"},{"size":248,"mtime":1605486851154,"results":"76","hashOfConfig":"44"},{"size":723,"mtime":1606474997248,"results":"77","hashOfConfig":"44"},{"size":1846,"mtime":1607547235290,"results":"78","hashOfConfig":"44"},{"size":1276,"mtime":1605802827807,"results":"79","hashOfConfig":"44"},{"size":4603,"mtime":1607636382388,"results":"80","hashOfConfig":"44"},{"size":896,"mtime":1605747986896,"results":"81","hashOfConfig":"44"},{"size":722,"mtime":1605616685812,"results":"82","hashOfConfig":"44"},{"size":198,"mtime":1607358545710,"results":"83","hashOfConfig":"44"},{"size":4107,"mtime":1605975313110,"results":"84","hashOfConfig":"44"},{"size":645,"mtime":1605802829758,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"3tnfdo",{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"88"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"91"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"112"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"150"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"153","messages":"154","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"91"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"174"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\store.ts",[],["181","182"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\App.tsx",[],["183","184"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\preferenceActions.ts",[],["185","186"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ChatRoom.tsx",["187"],"import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  IonAvatar,\r\n  IonBackButton,\r\n  IonButtons,\r\n  IonContent,\r\n  IonHeader,\r\n  IonImg,\r\n  IonItem,\r\n  IonLabel,\r\n  IonLoading,\r\n  IonPage,\r\n  IonToolbar,\r\n} from '@ionic/react';\r\nimport { useParams } from 'react-router';\r\nimport ChatBubble from '../components/ChatBubble';\r\nimport InputArea from '../components/InputArea';\r\nimport { ChatArea } from '../components/styledComponent/ChatRoomStyles';\r\nimport { auth, firestore } from '../firbaseConfig';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { getUserInfo } from '../firebaseHelperFunctions';\r\n\r\ninterface ChatRoomProps {}\r\nconst ChatRoom: React.FC<ChatRoomProps> = () => {\r\n  const [profilePic, setProfilePic] = useState<string>('');\r\n  const [username, setUsername] = useState<string>('');\r\n\r\n  const spanRef = useRef<HTMLSpanElement>(null);\r\n  const chatAreaRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  const messageRef = firestore\r\n    .collection('message')\r\n    .doc(id)\r\n    .collection('messages')\r\n    .orderBy('timeSent');\r\n\r\n  const [messages, loading, error] = useCollectionData(messageRef, {\r\n    idField: 'id',\r\n  });\r\n\r\n  console.log(messages);\r\n\r\n  const currentUser = auth.currentUser;\r\n\r\n  useEffect(() => {\r\n    const getToolbarUserInfo = async () => {\r\n      const groupRef = firestore.collection('group').doc(id);\r\n\r\n      const groupInfo = await (await groupRef.get()).data();\r\n\r\n      const [contactId] = groupInfo?.members.filter(\r\n        (memberId: any) => currentUser !== memberId\r\n      );\r\n      const contactInfo = await getUserInfo(contactId);\r\n      setProfilePic(contactInfo?.profilePicUrl);\r\n      setUsername(contactInfo?.username);\r\n    };\r\n    getToolbarUserInfo();\r\n  }, [currentUser, id]);\r\n  useEffect(() => {\r\n    console.log(spanRef.current);\r\n    console.log(chatAreaRef.current?.clientHeight);\r\n\r\n    spanRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [chatAreaRef.current?.clientHeight, messages]);\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar color='primary'>\r\n          <IonButtons slot='start'>\r\n            <IonBackButton defaultHref='/' />\r\n          </IonButtons>\r\n\r\n          <IonItem lines='none' color='primary'>\r\n            <IonAvatar slot='start'>\r\n              <IonImg src={profilePic} />\r\n            </IonAvatar>\r\n            <IonLabel>{username}</IonLabel>\r\n          </IonItem>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n        {loading ? (\r\n          <IonLoading isOpen={loading} />\r\n        ) : (\r\n          <ChatArea ref={chatAreaRef}>\r\n            {messages &&\r\n              messages.map((message: any) => (\r\n                <ChatBubble\r\n                  key={message.id}\r\n                  date={\r\n                    message.timeSent ? message.timeSent.seconds : Date.now()\r\n                  }\r\n                  message={message.message}\r\n                  sentBy={message.sentby!}\r\n                  userId={currentUser?.uid!}\r\n                  pic={message.Pic}\r\n                />\r\n              ))}\r\n            <span ref={spanRef}></span>\r\n          </ChatArea>\r\n        )}\r\n        <InputArea groupId={id} user={currentUser!} />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n","E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Settiing.tsx",["188"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ProfileDetails.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Home.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\preferenceReducer.ts",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\utli.ts",["189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\firebaseHelperFunctions.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ProfileDetailsStyles.tsx",[],["212","213"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Status.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\IntroMessage.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ChatsStyles.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\HomeSegments.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\PrivateRoute.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\ContactsList.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Contacts.tsx",["214"],"import { IonAvatar, IonImg, IonItem, IonLabel, IonTitle } from '@ionic/react';\r\nimport React from 'react';\r\n\r\ninterface ContactsProps {\r\n  username: string;\r\n  pic: string;\r\n  status: string;\r\n  createChatRoom: () => void;\r\n}\r\nconst Contacts: React.FC<ContactsProps> = ({\r\n  pic,\r\n  status,\r\n  username,\r\n  createChatRoom,\r\n}) => {\r\n  return (\r\n    <IonItem>\r\n      <IonAvatar slot='start'>\r\n        <IonImg src={pic} alt='profile pic' />\r\n      </IonAvatar>\r\n      <IonLabel onClick={createChatRoom}>\r\n        <h1>{username}</h1>\r\n        <p>{status}</p>\r\n      </IonLabel>\r\n    </IonItem>\r\n  );\r\n};\r\nexport default Contacts;\r\n","E:\\mywork\\ionic\\whatsapp_clone\\src\\serviceWorker.ts",[],["215","216"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\OnBoard.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\UpLoadImage.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Calls.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useFirebaseStorage.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\ChatRoomStyles.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\InputArea.tsx",["217"],"import { IonButton, IonIcon, IonTextarea } from '@ionic/react';\r\nimport { sendSharp, cameraSharp } from 'ionicons/icons';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { firebaseApp, firestore } from '../firbaseConfig';\r\nimport useCamera from '../hooks/useCamera';\r\nimport useFirebaseStorage from '../hooks/useFirebaseStorage';\r\nimport { getDataUrl } from '../utli';\r\nimport {\r\n  InputContainer,\r\n  InputFieldArea,\r\n} from './styledComponent/ChatRoomStyles';\r\nimport { group } from 'console';\r\n\r\nconst { Toast } = Plugins;\r\n\r\ninterface InputAreaProps {\r\n  groupId: string;\r\n  user: firebase.User | null;\r\n}\r\n\r\nconst InputArea: React.FC<InputAreaProps> = ({ groupId, user }) => {\r\n  const [message, setMessage] = useState<string>('');\r\n  const [showCameraIcon, setShowCameraIcon] = useState<boolean>(true);\r\n  const { uploadImage } = useFirebaseStorage();\r\n\r\n  const { photo, takePic } = useCamera();\r\n  useEffect(() => {\r\n    if (message.length > 0) {\r\n      setShowCameraIcon(() => false);\r\n    } else if (message.length === 0) {\r\n      setShowCameraIcon(() => true);\r\n    }\r\n  }, [message]);\r\n\r\n  async function sendMessage() {\r\n    const messagesRef = firestore\r\n      .collection('message')\r\n      .doc(groupId.trim())\r\n      .collection('messages');\r\n\r\n    if (message.trim() === '') {\r\n      return await Toast.show({\r\n        text: 'message is required',\r\n        duration: 'long',\r\n        position: 'bottom',\r\n      });\r\n    }\r\n\r\n    try {\r\n      const results = await messagesRef.add({\r\n        message,\r\n        sentby: user?.uid!,\r\n        Pic: '',\r\n        timeSent: firebaseApp.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n      if (results) {\r\n        setMessage('');\r\n        await Toast.show({\r\n          text: 'message is sent',\r\n          duration: 'long',\r\n          position: 'bottom',\r\n        });\r\n        await firestore.collection('group').doc(groupId).update({\r\n          lastUpdated: firebaseApp.firestore.FieldValue.serverTimestamp(),\r\n          lastMessage: message,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      await Toast.show({\r\n        text: 'something went wrong',\r\n        duration: 'long',\r\n        position: 'bottom',\r\n      });\r\n    }\r\n  }\r\n  async function sendPic() {\r\n    try {\r\n      await takePic();\r\n\r\n      if (photo.webViewPath) {\r\n        const dataUri: any = await getDataUrl(photo.webViewPath);\r\n        const { error } = uploadImage(\r\n          dataUri,\r\n          photo.filepath,\r\n          user?.uid!,\r\n          async (uri) => {\r\n            const messagesRef = firestore\r\n              .collection('message')\r\n              .doc(groupId.trim())\r\n              .collection('messages');\r\n\r\n            try {\r\n              const results = await messagesRef.add({\r\n                message: '',\r\n                sentby: user?.uid!,\r\n                Pic: uri,\r\n                timeSent: firebaseApp.firestore.FieldValue.serverTimestamp(),\r\n              });\r\n              if (results) {\r\n                await Toast.show({\r\n                  text: 'pic is sent',\r\n                  duration: 'long',\r\n                  position: 'bottom',\r\n                });\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            }\r\n          }\r\n        );\r\n        if (error) {\r\n          throw error;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      await Toast.show({\r\n        text: 'something went wrong',\r\n        duration: 'long',\r\n        position: 'bottom',\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <InputContainer>\r\n      <InputFieldArea>\r\n        <IonTextarea\r\n          autoGrow={true}\r\n          placeholder='Type a message'\r\n          rows={1}\r\n          maxlength={600}\r\n          value={message}\r\n          onIonChange={(e) => setMessage(() => e.detail.value!)}></IonTextarea>\r\n        <div onClick={sendPic}>\r\n          {showCameraIcon && <IonIcon icon={cameraSharp} size='large' />}\r\n        </div>\r\n      </InputFieldArea>\r\n      <IonButton color='secondary' shape='round' onClick={sendMessage}>\r\n        <IonIcon icon={sendSharp} />\r\n      </IonButton>\r\n    </InputContainer>\r\n  );\r\n};\r\nexport default InputArea;\r\n","E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\ChatBubble.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\rootReducer.ts",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\constants.ts",[],["218","219"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\IntroSlider.tsx",["220"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\ChatsList.tsx",["221","222"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\Chat.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\index.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\SignUpstyles.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useGetGroups.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useCamera.tsx",["223"],"import { useCamera as Camera } from '@ionic/react-hooks/camera';\r\nimport { useFilesystem } from '@ionic/react-hooks/filesystem';\r\nimport {\r\n  CameraOptions,\r\n  CameraResultType,\r\n  CameraSource,\r\n  Capacitor,\r\n  CameraPhoto,\r\n  FilesystemDirectory,\r\n} from '@capacitor/core';\r\nimport { useEffect, useState } from 'react';\r\nimport { isPlatform } from '@ionic/react';\r\n\r\ninterface Photo {\r\n  filepath: string;\r\n  webViewPath?: string;\r\n}\r\nconst useCamera = (sourceOfPic: 'prompt' | 'camera' = 'camera') => {\r\n  // state to store the picture taken\r\n  const [pic, setPic] = useState<Photo>({ filepath: '' });\r\n\r\n  // get the functions for the filesystem and camera from the hooks\r\n  const { getPhoto } = Camera();\r\n  const { writeFile, readFile } = useFilesystem();\r\n\r\n  const options: CameraOptions = {\r\n    resultType: CameraResultType.Uri,\r\n    source:\r\n      sourceOfPic === 'prompt' ? CameraSource.Prompt : CameraSource.Camera,\r\n    quality: 100,\r\n  };\r\n  const takePic = async () => {\r\n    const cameraPic: CameraPhoto = await getPhoto(options);\r\n    const fileName = new Date().getTime() + 'jpeg';\r\n    let newPic: Photo;\r\n    // if the app is run using capacitor on moblie\r\n    if (isPlatform('hybrid')) {\r\n      const file = await readFile({\r\n        path: cameraPic.path!,\r\n      });\r\n      const savedFile = await writeFile({\r\n        path: 'whatsapp_clone/pics/sent/' + fileName,\r\n        data: file.data,\r\n        directory: FilesystemDirectory.Documents,\r\n      });\r\n      newPic = {\r\n        filepath: savedFile.uri,\r\n        webViewPath: Capacitor.convertFileSrc(savedFile.uri),\r\n      };\r\n    } else {\r\n      newPic = {\r\n        filepath: fileName,\r\n        webViewPath: cameraPic.webPath,\r\n      };\r\n    }\r\n    setPic(() => {\r\n      return newPic;\r\n    });\r\n  };\r\n  return { takePic, photo: pic };\r\n};\r\n\r\nexport default useCamera;\r\n","E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\userActions.ts",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\Login.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\firbaseConfig.ts",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\hooks\\useGetPic.tsx",[],["224","225"],"E:\\mywork\\ionic\\whatsapp_clone\\src\\components\\styledComponent\\SettingStyles.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\pages\\SignUp.tsx",[],"E:\\mywork\\ionic\\whatsapp_clone\\src\\store\\userReducer.ts",[],{"ruleId":"226","replacedBy":"227"},{"ruleId":"228","replacedBy":"229"},{"ruleId":"226","replacedBy":"230"},{"ruleId":"228","replacedBy":"231"},{"ruleId":"226","replacedBy":"232"},{"ruleId":"228","replacedBy":"233"},{"ruleId":"234","severity":1,"message":"235","line":39,"column":29,"nodeType":"236","messageId":"237","endLine":39,"endColumn":34},{"ruleId":"234","severity":1,"message":"238","line":60,"column":11,"nodeType":"236","messageId":"237","endLine":60,"endColumn":15},{"ruleId":"239","severity":1,"message":"240","line":19,"column":57,"nodeType":"241","messageId":"242","endLine":19,"endColumn":58,"suggestions":"243"},{"ruleId":"239","severity":1,"message":"244","line":19,"column":61,"nodeType":"241","messageId":"242","endLine":19,"endColumn":62,"suggestions":"245"},{"ruleId":"239","severity":1,"message":"240","line":19,"column":67,"nodeType":"241","messageId":"242","endLine":19,"endColumn":68,"suggestions":"246"},{"ruleId":"239","severity":1,"message":"247","line":19,"column":93,"nodeType":"241","messageId":"242","endLine":19,"endColumn":94,"suggestions":"248"},{"ruleId":"239","severity":1,"message":"249","line":19,"column":95,"nodeType":"241","messageId":"242","endLine":19,"endColumn":96,"suggestions":"250"},{"ruleId":"239","severity":1,"message":"251","line":19,"column":97,"nodeType":"241","messageId":"242","endLine":19,"endColumn":98,"suggestions":"252"},{"ruleId":"239","severity":1,"message":"253","line":19,"column":99,"nodeType":"241","messageId":"242","endLine":19,"endColumn":100,"suggestions":"254"},{"ruleId":"239","severity":1,"message":"255","line":19,"column":101,"nodeType":"241","messageId":"242","endLine":19,"endColumn":102,"suggestions":"256"},{"ruleId":"239","severity":1,"message":"257","line":19,"column":103,"nodeType":"241","messageId":"242","endLine":19,"endColumn":104,"suggestions":"258"},{"ruleId":"239","severity":1,"message":"259","line":19,"column":105,"nodeType":"241","messageId":"242","endLine":19,"endColumn":106,"suggestions":"260"},{"ruleId":"239","severity":1,"message":"261","line":19,"column":107,"nodeType":"241","messageId":"242","endLine":19,"endColumn":108,"suggestions":"262"},{"ruleId":"239","severity":1,"message":"263","line":19,"column":109,"nodeType":"241","messageId":"242","endLine":19,"endColumn":110,"suggestions":"264"},{"ruleId":"239","severity":1,"message":"255","line":19,"column":111,"nodeType":"241","messageId":"242","endLine":19,"endColumn":112,"suggestions":"265"},{"ruleId":"239","severity":1,"message":"266","line":19,"column":113,"nodeType":"241","messageId":"242","endLine":19,"endColumn":114,"suggestions":"267"},{"ruleId":"239","severity":1,"message":"244","line":19,"column":115,"nodeType":"241","messageId":"242","endLine":19,"endColumn":116,"suggestions":"268"},{"ruleId":"239","severity":1,"message":"269","line":19,"column":119,"nodeType":"241","messageId":"242","endLine":19,"endColumn":120,"suggestions":"270"},{"ruleId":"239","severity":1,"message":"271","line":19,"column":121,"nodeType":"241","messageId":"242","endLine":19,"endColumn":122,"suggestions":"272"},{"ruleId":"239","severity":1,"message":"273","line":19,"column":123,"nodeType":"241","messageId":"242","endLine":19,"endColumn":124,"suggestions":"274"},{"ruleId":"239","severity":1,"message":"275","line":19,"column":125,"nodeType":"241","messageId":"242","endLine":19,"endColumn":126,"suggestions":"276"},{"ruleId":"239","severity":1,"message":"277","line":19,"column":127,"nodeType":"241","messageId":"242","endLine":19,"endColumn":128,"suggestions":"278"},{"ruleId":"239","severity":1,"message":"279","line":19,"column":129,"nodeType":"241","messageId":"242","endLine":19,"endColumn":130,"suggestions":"280"},{"ruleId":"239","severity":1,"message":"281","line":19,"column":131,"nodeType":"241","messageId":"242","endLine":19,"endColumn":132,"suggestions":"282"},{"ruleId":"239","severity":1,"message":"283","line":19,"column":133,"nodeType":"241","messageId":"242","endLine":19,"endColumn":134,"suggestions":"284"},{"ruleId":"226","replacedBy":"285"},{"ruleId":"228","replacedBy":"286"},{"ruleId":"234","severity":1,"message":"287","line":1,"column":48,"nodeType":"236","messageId":"237","endLine":1,"endColumn":56},{"ruleId":"226","replacedBy":"288"},{"ruleId":"228","replacedBy":"289"},{"ruleId":"234","severity":1,"message":"290","line":13,"column":10,"nodeType":"236","messageId":"237","endLine":13,"endColumn":15},{"ruleId":"226","replacedBy":"291"},{"ruleId":"228","replacedBy":"292"},{"ruleId":"234","severity":1,"message":"293","line":2,"column":17,"nodeType":"236","messageId":"237","endLine":2,"endColumn":32},{"ruleId":"234","severity":1,"message":"294","line":1,"column":41,"nodeType":"236","messageId":"237","endLine":1,"endColumn":51},{"ruleId":"234","severity":1,"message":"235","line":13,"column":28,"nodeType":"236","messageId":"237","endLine":13,"endColumn":33},{"ruleId":"234","severity":1,"message":"295","line":11,"column":10,"nodeType":"236","messageId":"237","endLine":11,"endColumn":19},{"ruleId":"226","replacedBy":"296"},{"ruleId":"228","replacedBy":"297"},"no-native-reassign",["298"],"no-negated-in-lhs",["299"],["298"],["299"],["298"],["299"],"@typescript-eslint/no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","'push' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["300","301"],"Unnecessary escape character: \\=.",["302","303"],["304","305"],"Unnecessary escape character: \\!.",["306","307"],"Unnecessary escape character: \\$.",["308","309"],"Unnecessary escape character: \\&.",["310","311"],"Unnecessary escape character: \\'.",["312","313"],"Unnecessary escape character: \\,.",["314","315"],"Unnecessary escape character: \\(.",["316","317"],"Unnecessary escape character: \\).",["318","319"],"Unnecessary escape character: \\*.",["320","321"],"Unnecessary escape character: \\+.",["322","323"],["324","325"],"Unnecessary escape character: \\;.",["326","327"],["328","329"],"Unnecessary escape character: \\..",["330","331"],"Unnecessary escape character: \\_.",["332","333"],"Unnecessary escape character: \\~.",["334","335"],"Unnecessary escape character: \\:.",["336","337"],"Unnecessary escape character: \\@.",["338","339"],"Unnecessary escape character: \\/.",["340","341"],"Unnecessary escape character: \\?.",["342","343"],"Unnecessary escape character: \\%.",["344","345"],["298"],["299"],"'IonTitle' is defined but never used.",["298"],["299"],"'group' is defined but never used.",["298"],["299"],"'useLayoutEffect' is defined but never used.","'IonLoading' is defined but never used.","'useEffect' is defined but never used.",["298"],["299"],"no-global-assign","no-unsafe-negation",{"messageId":"346","fix":"347","desc":"348"},{"messageId":"349","fix":"350","desc":"351"},{"messageId":"346","fix":"352","desc":"348"},{"messageId":"349","fix":"353","desc":"351"},{"messageId":"346","fix":"354","desc":"348"},{"messageId":"349","fix":"355","desc":"351"},{"messageId":"346","fix":"356","desc":"348"},{"messageId":"349","fix":"357","desc":"351"},{"messageId":"346","fix":"358","desc":"348"},{"messageId":"349","fix":"359","desc":"351"},{"messageId":"346","fix":"360","desc":"348"},{"messageId":"349","fix":"361","desc":"351"},{"messageId":"346","fix":"362","desc":"348"},{"messageId":"349","fix":"363","desc":"351"},{"messageId":"346","fix":"364","desc":"348"},{"messageId":"349","fix":"365","desc":"351"},{"messageId":"346","fix":"366","desc":"348"},{"messageId":"349","fix":"367","desc":"351"},{"messageId":"346","fix":"368","desc":"348"},{"messageId":"349","fix":"369","desc":"351"},{"messageId":"346","fix":"370","desc":"348"},{"messageId":"349","fix":"371","desc":"351"},{"messageId":"346","fix":"372","desc":"348"},{"messageId":"349","fix":"373","desc":"351"},{"messageId":"346","fix":"374","desc":"348"},{"messageId":"349","fix":"375","desc":"351"},{"messageId":"346","fix":"376","desc":"348"},{"messageId":"349","fix":"377","desc":"351"},{"messageId":"346","fix":"378","desc":"348"},{"messageId":"349","fix":"379","desc":"351"},{"messageId":"346","fix":"380","desc":"348"},{"messageId":"349","fix":"381","desc":"351"},{"messageId":"346","fix":"382","desc":"348"},{"messageId":"349","fix":"383","desc":"351"},{"messageId":"346","fix":"384","desc":"348"},{"messageId":"349","fix":"385","desc":"351"},{"messageId":"346","fix":"386","desc":"348"},{"messageId":"349","fix":"387","desc":"351"},{"messageId":"346","fix":"388","desc":"348"},{"messageId":"349","fix":"389","desc":"351"},{"messageId":"346","fix":"390","desc":"348"},{"messageId":"349","fix":"391","desc":"351"},{"messageId":"346","fix":"392","desc":"348"},{"messageId":"349","fix":"393","desc":"351"},{"messageId":"346","fix":"394","desc":"348"},{"messageId":"349","fix":"395","desc":"351"},"removeEscape",{"range":"396","text":"397"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"398","text":"399"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"400","text":"397"},{"range":"401","text":"399"},{"range":"402","text":"397"},{"range":"403","text":"399"},{"range":"404","text":"397"},{"range":"405","text":"399"},{"range":"406","text":"397"},{"range":"407","text":"399"},{"range":"408","text":"397"},{"range":"409","text":"399"},{"range":"410","text":"397"},{"range":"411","text":"399"},{"range":"412","text":"397"},{"range":"413","text":"399"},{"range":"414","text":"397"},{"range":"415","text":"399"},{"range":"416","text":"397"},{"range":"417","text":"399"},{"range":"418","text":"397"},{"range":"419","text":"399"},{"range":"420","text":"397"},{"range":"421","text":"399"},{"range":"422","text":"397"},{"range":"423","text":"399"},{"range":"424","text":"397"},{"range":"425","text":"399"},{"range":"426","text":"397"},{"range":"427","text":"399"},{"range":"428","text":"397"},{"range":"429","text":"399"},{"range":"430","text":"397"},{"range":"431","text":"399"},{"range":"432","text":"397"},{"range":"433","text":"399"},{"range":"434","text":"397"},{"range":"435","text":"399"},{"range":"436","text":"397"},{"range":"437","text":"399"},{"range":"438","text":"397"},{"range":"439","text":"399"},{"range":"440","text":"397"},{"range":"441","text":"399"},{"range":"442","text":"397"},{"range":"443","text":"399"},[521,522],"",[521,521],"\\",[525,526],[525,525],[531,532],[531,531],[557,558],[557,557],[559,560],[559,559],[561,562],[561,561],[563,564],[563,563],[565,566],[565,565],[567,568],[567,567],[569,570],[569,569],[571,572],[571,571],[573,574],[573,573],[575,576],[575,575],[577,578],[577,577],[579,580],[579,579],[583,584],[583,583],[585,586],[585,585],[587,588],[587,587],[589,590],[589,589],[591,592],[591,591],[593,594],[593,593],[595,596],[595,595],[597,598],[597,597]]